controller:
  #config:
  #  use-proxy-protocol: "true"
  #  real-ip-header: "proxy_protocol"
  #  set-real-ip-from: "10.0.0.0/16"
  service:
    externalTrafficPolicy: "Local"
    annotations:
      metallb.universe.tf/address-pool: pool2
  autoscaling:
    enabled: true
    minReplicas: 2
    maxReplicas: 5
    targetCPUUtilizationPercentage: 60
    targetMemoryUtilizationPercentage: 70
  affinity:
    podAntiAffinity:
      requiredDuringSchedulingIgnoredDuringExecution:
        - labelSelector:
            matchExpressions:
              - key: app
                operator: In
                values:
                  - nginx-proxy
          topologyKey: kubernetes.io/hostname
          namespaces:
            - nginx-proxy
